{"version":3,"sources":["./src/app/demo/dashboard/consulter-demandes/consulter-demandes.component.html","./src/app/demo/dashboard/consulter-demandes/consulter-demandes-routing.module.ts","./src/app/demo/dashboard/consulter-demandes/consulter-demandes.component.scss","./src/app/demo/dashboard/consulter-demandes/consulter-demandes.component.ts","./src/app/demo/dashboard/consulter-demandes/consulter-demandes.module.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["export default \"<div class=\\\"row\\\">\\r\\n    <!-- <div class=\\\"col-sm-12 m-b-15\\\" *ngIf=\\\"notConsulting\\\">\\r\\n        <div id=\\\"main-search\\\" class=\\\"main-search open\\\">\\r\\n            <div class=\\\"input-group\\\">\\r\\n                <input type=\\\"text\\\" id=\\\"m-search\\\" class=\\\"form-control\\\" #search placeholder=\\\"Search . . .\\\"\\r\\n                    autocomplete=\\\"off\\\">\\r\\n                <span class=\\\"input-group-append search-btn btn btn-primary feather icon-search input-group-text\\\"\\r\\n                    (click)=\\\"Search()\\\">\\r\\n                </span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div> -->\\r\\n    <div class=\\\"col-md-4\\\">\\r\\n        <app-card [options]=\\\"false\\\" cardTitle=\\\"Liste des Demandes\\\">\\r\\n            <div class=\\\"col-md-12 text-left\\\" *ngIf=\\\"initializing\\\">\\r\\n                <ngb-progressbar [value]=\\\"100\\\" [striped]=\\\"true\\\" [animated]=\\\"true\\\">\\r\\n                </ngb-progressbar>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-12 text-center\\\" *ngIf=\\\"demandes.length==0 && !initializing\\\">\\r\\n                <app-alert type=\\\"danger\\\">Aucune donnée trouvée\\r\\n                    {{ search ? (search.value==\\\"\\\" ? \\\"\\\" : \\\"pour \\\" + \\\"'\\\"+search.value+\\\"'\\\") : \\\"\\\"}}\\r\\n                </app-alert>\\r\\n            </div>\\r\\n            <perfect-scrollbar [style.max-height]=\\\"(window.innerHeight-350)+'px'\\\"\\r\\n                [style.min-height]=\\\"(window.innerHeight-350)+'px'\\\">\\r\\n                <div class=\\\"col-md-12\\\">\\r\\n                    <ng-container>\\r\\n                        <ng-container *ngFor=\\\"let demand of demandes;let demindex=index\\\">\\r\\n                            <app-alert (mouseenter)=\\\"hoverOn(demindex)\\\" (mouseleave)=\\\"hoverOff(demindex)\\\"\\r\\n                                (click)=\\\"demClicked(demindex)\\\" style=\\\"cursor: pointer;\\\"\\r\\n                                [type]=\\\"demandesColor[demindex]\\\">\\r\\n                                <div class=\\\"row\\\" style=\\\"margin-left: -20px;margin-right: -10px;\\\">\\r\\n                                    <i class=\\\"col-md-6 text-left\\\">\\r\\n                                        <img [src]=\\\" demand.status ? (demand.status==1 ? 'assets/images/IconAccept.png' : 'assets/images/IconRefused.png') : 'assets/images/IconInProgress.png'\\\"\\r\\n                                            [title]=\\\"demand.status ? (demand.status==1 ? 'Acceptée' : 'Refusée') : 'En Cours'\\\">\\r\\n                                        {{demandeType[demand.typeDemande]}}\\r\\n                                    </i>\\r\\n                                    <i class=\\\"col-md-6 text-right\\\"> {{timestampToDate(demand.created)}}</i>\\r\\n                                </div>\\r\\n                            </app-alert>\\r\\n                        </ng-container>\\r\\n                    </ng-container>\\r\\n                </div>\\r\\n            </perfect-scrollbar>\\r\\n        </app-card>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-8\\\">\\r\\n        <app-details-demande></app-details-demande>\\r\\n    </div>\\r\\n</div>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ConsulterDemandesComponent } from './consulter-demandes.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    \r\n    path: '',\r\n    component: ConsulterDemandesComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ConsulterDemandesRoutingModule { }\r\n","export default \"i {\\n  color: black;\\n  font-style: normal;\\n  font-weight: bold;\\n}\\n\\n.app-alert.alert {\\n  color: black;\\n}\\n\\nimg {\\n  width: 15px;\\n  cursor: pointer;\\n}\\n\\n.row {\\n  margin: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVtby9kYXNoYm9hcmQvY29uc3VsdGVyLWRlbWFuZGVzL0Q6XFxldGFhaWlcXHByb2plY3QyXFxTTkRFXFxTTkRFLXdlYmFkbWluL3NyY1xcYXBwXFxkZW1vXFxkYXNoYm9hcmRcXGNvbnN1bHRlci1kZW1hbmRlc1xcY29uc3VsdGVyLWRlbWFuZGVzLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9kZW1vL2Rhc2hib2FyZC9jb25zdWx0ZXItZGVtYW5kZXMvY29uc3VsdGVyLWRlbWFuZGVzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFSTtFQUNJLFlBQUE7QUNDUjs7QURFQTtFQUNHLFdBQUE7RUFDQSxlQUFBO0FDQ0g7O0FEQ0E7RUFDSSxXQUFBO0FDRUoiLCJmaWxlIjoic3JjL2FwcC9kZW1vL2Rhc2hib2FyZC9jb25zdWx0ZXItZGVtYW5kZXMvY29uc3VsdGVyLWRlbWFuZGVzLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaXtcclxuICAgIGNvbG9yOmJsYWNrO1xyXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuLmFwcC1hbGVydHtcclxuICAgICYuYWxlcnR7XHJcbiAgICAgICAgY29sb3I6YmxhY2s7XHJcbiAgICB9XHJcbn1cclxuaW1nIHtcclxuICAgd2lkdGg6MTVweDsgXHJcbiAgIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4ucm93e1xyXG4gICAgbWFyZ2luOiAwcHg7XHJcbn0iLCJpIHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYXBwLWFsZXJ0LmFsZXJ0IHtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG5pbWcge1xuICB3aWR0aDogMTVweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ucm93IHtcbiAgbWFyZ2luOiAwcHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { Demande } from 'src/Models/demande';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { ConsulterDemandesServices } from './Consulter-Demandes.Service';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-consulter-demandes',\r\n  templateUrl: './consulter-demandes.component.html',\r\n  styleUrls: ['./consulter-demandes.component.scss']\r\n})\r\n\r\nexport class ConsulterDemandesComponent implements OnInit {\r\n\r\n  initializing = true;\r\n  demandeType: string[] = [\"Approuvé\", \"Identité\", \" Portefeuille\", \"Plus Proche Agréé\"];\r\n  demandesColor: string[] = [];\r\n  clickedIndex = -1;\r\n  demandes: Demande[] = [];\r\n  displayDemandes: Demande[] = [];\r\n  propertie: any;\r\n  window = window;\r\n  constructor(\r\n    private titleService?: Title,\r\n    private http?: HttpClient,\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    this.titleService.setTitle(\"Consulter les Demandes\");\r\n    //this.firebase.list(\"demandes\").snapshotChanges().subscribe(async () => {\r\n    this.initializeDemandes()\r\n    // })\r\n  }\r\n  async initializeDemandes() {\r\n    this.initializing = true;\r\n    this.clickedIndex = -1;\r\n    await ConsulterDemandesServices.getDemandes(this.http).then(result => {\r\n      this.demandes = result.demandes\r\n      console.log(\"demande id \"+this.demandes[0].typeDemande)\r\n      this.displayDemandes = result.displayDemandes\r\n      this.demandesColor = []\r\n      for (let i = 0; i < this.demandes.length; i++) {\r\n        this.displayDemandes[i] = this.createNewBlankDemande(this.displayDemandes[i]);\r\n        this.demandesColor[i] = \"light\"\r\n      }\r\n    })\r\n    this.initializing = false;\r\n  }\r\n\r\n  ngAfterViewInit() { }\r\n\r\n  createNewBlankDemande(demande: Demande): Demande {\r\n    let dem = new Demande();\r\n    dem = demande;\r\n    if (dem.parametreDemande.email)\r\n      dem.parametreDemande.email = \"***************\"\r\n    if (dem.parametreDemande.phoneNumber)\r\n      dem.parametreDemande.phoneNumber = \"***************\"\r\n    if (demande.status) {\r\n      dem.traitedBy = \"***************\";\r\n    }\r\n    return dem\r\n  }\r\n\r\n\r\n  async demClicked(demindex: number) {\r\n    this.demandesColor.fill('light')\r\n    this.demandesColor[demindex] = \"primary\";\r\n    this.clickedIndex = demindex;\r\n    let clickedDisplayDemande = this.displayDemandes[demindex];\r\n    let clickedDemande = this.demandes[demindex]\r\n    ConsulterDemandesServices.setDemande(clickedDemande, clickedDisplayDemande);\r\n  }\r\n\r\n  timestampToDate(timestamp) {\r\n    let date = new Date(timestamp);\r\n    return this.valueOf(date.getDate()) + \"/\" + this.valueOf(date.getMonth().valueOf() + 1) + \"/\" + date.getFullYear() + \" - \" + this.valueOf(date.getHours()) + \":\" + this.valueOf(date.getMinutes()) + \":\" + this.valueOf(date.getSeconds());\r\n  }\r\n\r\n  valueOf(i: number): string {\r\n    if (i < 10) {\r\n      return \"0\" + i\r\n    }\r\n    return i.toString();\r\n  }\r\n\r\n  hoverOn(demindex) {\r\n    if (demindex !== this.clickedIndex)\r\n      this.demandesColor[demindex] = \"dark\"\r\n  }\r\n\r\n  hoverOff(demindex) {\r\n    if (demindex === this.clickedIndex) {\r\n      this.demandesColor[demindex] = \"primary\"\r\n    } else {\r\n      this.demandesColor[demindex] = \"light\"\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../../../theme/shared/shared.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NgbPopoverModule, NgbProgressbarModule, NgbTabsetModule, NgbCollapseModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { StorageServiceModule } from 'angular-webstorage-service';\r\nimport { ConsulterDemandesRoutingModule } from './consulter-demandes-routing.module';\r\nimport { ConsulterDemandesComponent } from './consulter-demandes.component';\r\nimport { MapModule } from '../map/map.module';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { DetailsDemandeModule } from './details-demande/details-demande.module';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ConsulterDemandesRoutingModule,\r\n    SharedModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgbProgressbarModule,\r\n    NgbPopoverModule,\r\n    NgbTabsetModule,\r\n    StorageServiceModule,\r\n    NgbCollapseModule,\r\n    MapModule,\r\n    HttpClientModule,\r\n    DetailsDemandeModule\r\n  ],\r\n  declarations: [\r\n    ConsulterDemandesComponent,\r\n  ],\r\n  providers:[\r\n    \r\n  ],\r\n})\r\nexport class ConsulterDemandesModule { }\r\n"],"sourceRoot":"webpack:///"}